<template>
    <div class="page page-nilai light">
        <div class="navbar">
            <div class="navbar-inner">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="material-icons">navigate_before</i>
                    </a>
                </div>
                <div class="title">Pengaturan</div>
                <div class="right">
                    <a href="#" class="link icon-only popover-open" data-popover=".popover-menu">
                        <i class="material-icons ">more_vert</i>
                    </a>
                </div>
            </div>
        </div>
        <div class="page-content">
            <div class="block px-0 mt-0" style="overflow-x: hidden;">
                <div class="calendar-row mb-2">
                  <div class="item-media ml-2">
                    <div class="avatar avatar-100 mb-1">
                      <img src="img/user1.png" id="img-custom" alt="">
                    </div>  
                  </div>
                  <div class="text-align-center align-self-flex-end mb-2" style="margin-left: -30px;">
                    <div class="avatar avatar-40 bg-text-template no-shadow border-0 link" id="custom-button-aq">
                        <i class="fas fa-camera text-color-white" style="font-size: medium;"></i>
                    </div>
                  </div>
                  <input type="file" id="real-file-aq" @click="GAMBAR" accept=".jpg,.jpeg,.png" hidden="hidden" />
                </div>

                <h6 class="mt-0 ml-2">Akun Saya</h6>
                <div class="list medium-inset mt-0 bg-color-white">
                    <ul>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-id-card"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">
                              Nama pengguna
                              <div class="item-footer">Sri Rahayu Ningsih</div>
                            </div>
                            <!-- <div class="item-after">Edit</div> -->
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-phone"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">
                              Ponsel
                              <div class="item-footer">+62123456789</div>
                            </div>
                            <!-- <div class="item-subtitle text-color-black">Erik Setiadi</div> -->
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-envelope"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">
                              Email
                              <div class="item-footer">srirahayuningsih777@gmail.com</div>
                            </div>
                            <!-- <div class="item-subtitle text-color-black">Erik Setiadi</div> -->
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-lock"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">
                              Ubah Password
                              <!-- <div class="item-footer">+62123456789</div> -->
                            </div>
                            <!-- <div class="item-subtitle text-color-gray">ubah</div> -->
                          </div>
                        </a>
                      </li>
                    </ul>
                </div>

                <h6 class="mt-0 ml-2">Pengaturan Umum</h6>
                <div class="list medium-inset mt-0 bg-color-white">
                    <ul>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-bell"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">Notifikasi</div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-palette"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">Tema</div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><div class="bg-text-template" style="border-radius: 2px; height: 17px; width: 17px;"><i class="material-icons text-color-white" style="font-size: 14px; margin: 1px;">translate</i></div></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-black">Bahasa</div>
                            <div class="item-subtitle text-color-gray">Bahasa Indonesia</div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#" class="item-link item-content">
                          <div class="item-media"><i class="fas fa-sign-out-alt text-color-red"></i></div>
                          <div class="item-inner" style="margin-left: 0;">
                            <div class="item-title text-color-red">Keluar</div>
                            <!-- <div class="item-subtitle text-color-gray">srirahayuningsih</div> -->
                          </div>
                        </a>
                      </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="popover popover-menu popover-on-right" style="width: 100px;">
            <div class="popover-angle"></div>
                <div class="popover-inner">
                    <div class="list">
                        <ul>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner">
                                    <div class="item-title">Bantuan</span></div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
        </div>
    </div>
</template>
<script>
    return{
      on: {
        PageInit: function(e, page){
          const realFileBtn_aq = document.getElementById("real-file-aq");
            const customBtn_aq = document.getElementById("custom-button-aq");
            const customTxt_aq = document.getElementById("custom-text-aq");

            customBtn_aq.addEventListener("click", function() {
              realFileBtn_aq.click();
            });

            realFileBtn_aq.addEventListener("change", function() {
              if (realFileBtn_aq.files[0].type=='image/png') {
                customTxt_aq.innerHTML = realFileBtn_aq.value.match(
                  /[\/\\]([\w\d\s\.\-\(\)]+)$/
                )[1];
                document.getElementById('img-output').src = window.URL.createObjectURL(this.files[0]);
              } else if (realFileBtn_aq.files[0].type=='image/jpg') {
                customTxt_aq.innerHTML = realFileBtn_aq.value.match(
                  /[\/\\]([\w\d\s\.\-\(\)]+)$/
                )[1];
              } else if (realFileBtn_aq.files[0].type=='image/jpeg') {
                customTxt_aq.innerHTML = realFileBtn_aq.value.match(
                  /[\/\\]([\w\d\s\.\-\(\)]+)$/
                )[1];
              } else {
                customTxt_aq.innerHTML = "Belum ada gambar yang terpilih...";
              }
            });
        }
      },
      methods: {
        GAMBAR: function(event) {
          document.getElementById("real-file-aq").onchange = function () {
              var reader = new FileReader();

              reader.onload = function (e) {
                  // get loaded data and render thumbnail.
                  document.getElementById("img-custom").src = e.target.result;
              };

              // read the image file as a data URL.
              reader.readAsDataURL(this.files[0]);
          };
        },
      }
    }
</script>